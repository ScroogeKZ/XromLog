# ХРОМ-KZ Логистика - PHP версия

Система управления логистическими заявками для компании ХРОМ-KZ.

## Технологии
- **Backend**: PHP 8.2+ с объектно-ориентированной архитектурой
- **База данных**: PostgreSQL с PDO
- **Frontend**: HTML + Tailwind CSS
- **Аутентификация**: PHP сессии с bcrypt

## Структура проекта
```
├── classes/           # PHP классы
│   ├── Auth.php      # Авторизация
│   ├── ShipmentRequest.php # Управление заявками
│   └── UserManager.php     # Управление пользователями
├── pages/            # Веб-страницы
│   ├── login.php     # Страница входа
│   ├── admin.php     # Административная панель
│   ├── track.php     # Отслеживание заявок
│   ├── logout.php    # Выход
│   └── public-request.php # Публичная форма заявок
├── config/           # Конфигурация
│   └── database.php  # Подключение к БД
├── assets/           # Стили и ресурсы
├── attached_assets/  # Логотипы и изображения
└── index.php        # Главная страница
```

## Запуск
```bash
./start.sh
```
Или:
```bash
php -S 0.0.0.0:5000 -t . index.php
```

## Тестовые пользователи
- **Администратор**: `admin` / `password`
- **Сотрудник**: `employee` / `password`

## Функционал
- ✅ Авторизация пользователей
- ✅ Создание и управление заявками
- ✅ Отслеживание по номеру и телефону
- ✅ Административная панель
- ✅ Статистика и отчеты
- ✅ Адаптивный дизайн

## База данных
Схема БД автоматически создается при первом запуске.

### Основные таблицы:
- `users` - Пользователи системы
- `shipment_requests` - Заявки на доставку
- `activity_logs` - Журнал действий

## API эндпоинты
Все действия выполняются через стандартные HTML формы:
- `POST /pages/login.php` - Авторизация
- `POST /pages/public-request.php` - Создание заявки
- `GET /pages/track.php?number=XXX` - Отслеживание

## Безопасность
- Пароли хешируются с bcrypt
- Защита от SQL инъекций через PDO prepared statements  
- XSS защита через htmlspecialchars
- CSRF защита через проверку referer и сессии